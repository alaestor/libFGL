<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libFGL: The Future Gadget Laboratory Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="tempus.ico" type="image/x-icon" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<!-- BEGIN CUSTOMIZATIONS -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript"> DoxygenAwesomeDarkModeToggle.init() </script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript"> DoxygenAwesomeFragmentCopyButton.init() </script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript"> DoxygenAwesomeParagraphLink.init() </script>
<!-- END CUSTOMIZATIONS -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="tempus.ico"/></td>
  <td id="projectalign">
   <div id="projectname">libFGL
   </div>
   <div id="projectbrief">Intended for use with Tempus Edax Rerum projects. Replacing spoons with shovels.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">The Future Gadget Laboratory Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__github_workspace_README"></a></p>
<p ><a href="https://www.codefactor.io/repository/github/alaestor/libfgl"><img src="https://www.codefactor.io/repository/github/alaestor/libfgl/badge" alt="CodeFactor" class="inline"/></a> <a href="https://alaestor.github.io/libFGL/"><img src="https://img.shields.io/badge/documentation-doxygen-informational.svg" alt="Docs" style="pointer-events: none;" class="inline"/></a></p>
<p ><a href="https://alaestor.github.io/libFGL/">View documentation</a></p>
<p ><b>libFGL</b> — Intended for use with Tempus Edax Rerum projects.</p>
<p >This is a modern C++ header-only library that dreams of growing up to be refactored into a module. A miscellaneous assortment of in-house utilities intended to replace frequently duplicated flimsy spoons with sufficiently engineered shovels.</p>
<p >Breaking changes are a feature. No support. No guarentees. Not for third-party production use.</p>
<p >Only GCC 12 or higher is officially compatible, but libFGL should work with any compiler which properly implements C++20</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Table of Contents</h1>
<ul>
<li>Table of Contents</li>
<li>Getting Started<ul>
<li>Installing and using libFGL</li>
<li>Compiling and running tests</li>
<li>Extensions for libFGL</li>
<li>General information<ul>
<li>Include folder structure<ul>
<li>Include everything</li>
<li>Include only what you want</li>
</ul>
</li>
<li>Internal and experimental features</li>
<li>Preprocessor macros<ul>
<li>Short macros</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Contributing<ul>
<li>How to contribute</li>
<li>Writing tests</li>
<li>Test build system &amp; test dependencies</li>
</ul>
</li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md2"></a>
Getting Started</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Installing and using libFGL</h2>
<p >1. Download the libFGL source to where ever you'd like. 2. Add the library include path when you compile.</p><ul>
<li>For <a href="https://clang.llvm.org/docs/ClangCommandLineReference.html#include-path-management">clang</a> and <a href="https://gcc.gnu.org/onlinedocs/gcc/Directory-Options.html">gcc</a>, pass <code>-I"your_path_to/libFGL/include"</code> when compiling.</li>
<li>For <a href="https://docs.microsoft.com/en-us/cpp/preprocessor/hash-include-directive-c-cpp?view=msvc-170">MSVC</a>, pass <code>/I"your_path_to/libFGL/include"</code> when compiling.</li>
</ul>
<p ><em>Of course, replace <code>your_path_to</code> with the path to where you installed libFGL.</em></p>
<p >3. In your source file, include the components you want using <code>&lt;&gt;</code> syntax (see Include Folder Structure) </p><div class="fragment"><div class="line"><span class="comment">// main.cpp</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;FGLM&gt;</span> <span class="comment">// all of libFGL + opt-in features</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* or you can be more selective:</span></div>
<div class="line"><span class="comment">#define FGL_SHORT_MACROS</span></div>
<div class="line"><span class="comment">#include &lt;fgl/debug/constexpr_assert.hpp&gt; // constexpr_assert</span></div>
<div class="line"><span class="comment">#include &lt;fgl/types/range_constraints.hpp&gt; // sized_range_same_as</span></div>
<div class="line"><span class="comment">#include &lt;fgl/utility/zip.hpp&gt; // czip</span></div>
<div class="line"><span class="comment">//*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// silly example code using fgl::zip</span></div>
<div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">int</span> sum_int_pairs(</div>
<div class="line">    <span class="keyword">const</span> fgl::sized_range_same_as&lt;int&gt;&amp; a,</div>
<div class="line">    <span class="keyword">const</span> fgl::sized_range_same_as&lt;int&gt;&amp; b)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> sum{ 0 };</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [av, bv] : <a class="code hl_function" href="group__group-utility-zip.html#ga2782ade415a9fa6ccc855689ad3d91dd">fgl::czip</a>(a, b))</div>
<div class="line">        sum += av + bv;</div>
<div class="line">    <span class="keywordflow">return</span> sum;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    []() <span class="keyword">consteval</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">constexpr</span> std::array a{ 1, 1, 1 }; <span class="comment">// 3 elements</span></div>
<div class="line">        std::array b{ 1, 1, 1, 1 }; <span class="comment">// 4 elements, last will be ignored</span></div>
<div class="line">        <a class="code hl_define" href="group__group-debug-constexpr__assert.html#gaed8d5e4eb2807deed176f31f79cf427b">constexpr_assert</a>(sum_int_pairs(a, b) == 6);</div>
<div class="line">    }();</div>
<div class="line">}</div>
<div class="ttc" id="agroup__group-debug-constexpr__assert_html_gaed8d5e4eb2807deed176f31f79cf427b"><div class="ttname"><a href="group__group-debug-constexpr__assert.html#gaed8d5e4eb2807deed176f31f79cf427b">constexpr_assert</a></div><div class="ttdeci">#define constexpr_assert(assertion)</div><div class="ttdoc">Alias for FGL_DEBUG_CONSTEXPR_ASSERT()</div><div class="ttdef"><b>Definition:</b> constexpr_assert.hpp:97</div></div>
<div class="ttc" id="agroup__group-utility-zip_html_ga2782ade415a9fa6ccc855689ad3d91dd"><div class="ttname"><a href="group__group-utility-zip.html#ga2782ade415a9fa6ccc855689ad3d91dd">fgl::czip</a></div><div class="ttdeci">constexpr auto czip(const std::integral auto length, T_ranges &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> zip.hpp:218</div></div>
</div><!-- fragment --><p> 4. You're done.</p>
<p >Other than for testing, libFGL doesn't support any particular build systems, package systems, or IDEs. You're on your own.</p>
<p >libFGL extensions will often require more elaborate dependencies and compilation steps. Refer to the extension's documentation.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Compiling and running tests</h2>
<p >libFGL is header-only, so it doesn't require compilation or linking. Just include the components you want and you're done. However, you should probably compile and run the unit tests to make sure everything's behaving properly in your environment.</p>
<p >Remove the <code>.DEFAULT</code> suffix from <code>tup.config.DEFAULT</code>. This file contains system-specific paths and user preferences.</p>
<p >Use <a href="https://gittup.org/gittup/">the <code>tup</code> build-system</a> by executing <code>tup</code> in the directory that contains <code>Tupfile.ini</code>. The top-level <code>Tupfile</code> is configured to build and run all tests. If <code>tup</code> completes without warnings or errors, then the library should be fully-functional on the platform in question.</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md6"></a>
Extensions for libFGL</h2>
<ul>
<li>(WIP) <b>libFGL-vulkan</b> — a simple and modern interface for using Vulkan compute shaders.<ul>
<li>Work In Progress -&gt; <a href="https://github.com/KJNeko/LearningVulkan">KJNeko's LearningVulkan repository</a></li>
</ul>
</li>
</ul>
<hr  />
 <h2><a class="anchor" id="autotoc_md8"></a>
General information</h2>
<hr  />
 <h3><a class="anchor" id="autotoc_md10"></a>
Include folder structure</h3>
<h4><a class="anchor" id="autotoc_md11"></a>
Include everything</h4>
<p >The <code><a class="el" href="fgl_8hpp.html" title="libFGL&#39;s &quot;everything&quot; header">include/fgl.hpp</a></code> includes all top-level <code>include/fgl/*.hpp</code> headers which should include <em>almost</em> the entire library; everything except experimental and opt-in features. <code>include/FGLM</code> includes <code><a class="el" href="fgl_8hpp.html" title="libFGL&#39;s &quot;everything&quot; header">include/fgl.hpp</a></code> but also all opt-in features like short macro by defining `FGL_SHORT_MACROS` and exposes <code>using namespace fgl::literals;</code>. libFGL extensions must be included separately.</p>
<h4><a class="anchor" id="autotoc_md12"></a>
Include only what you want</h4>
<p >Each include folder has a corresponding <code>.hpp</code> file of the same name which includes all header files in that folder. For example <code>FOLDER.hpp</code> will include all <code>FOLDER/*.hpp</code> files. <code>&lt;<a class="el" href="fgl_8hpp.html" title="libFGL&#39;s &quot;everything&quot; header">fgl.hpp</a>&gt;</code> includes all of <code>fgl/*.hpp</code>, and <code>&lt;fgl/debug.hpp&gt;</code> includes all of <code>fgl/debug/*.hpp</code>, and so on.</p>
<hr  />
 <h3><a class="anchor" id="autotoc_md14"></a>
Internal and experimental features</h3>
<p >Anything (folder, file, namespace, preprocessor definition, symbol, etc.) containing one or more of these words should be considered internal to the FGL library. You should never have to explicitly include these files or use these components directly. If you do, please do so with the understanding that they aren't intended for external use and may spontaneously explode at any time.</p>
<ul>
<li><code>experimental</code></li>
<li><code>WIP</code> / <code>work_in_progress</code></li>
<li><code>unfinished</code></li>
<li><code>internal</code></li>
<li><code>details</code></li>
<li><code>test</code></li>
</ul>
<p >Interal preprocessor definitions will always begin with <code>FGL_INTERNAL</code>.</p>
<p >Experimental components shouldn't be used and are things that may or may not become part of libFGL at some point. Some experimental headers are in active developement are used for rapid evolution and discovery; while others are old copy+paste code snippets from other projects (including personal projects) which may be used as idea-fodder or are to be rewritten as libFGL components.</p>
<hr  />
 <h3><a class="anchor" id="autotoc_md16"></a>
Preprocessor macros</h3>
<p >While libFGL usually tries to avoid preprocessor macros, there are still some features that are best implemented by utilizing the preprocessor; mainly for purposes of code generation, expression stringification, and meaningful compiler diagnostics.</p>
<p >libFGL promises to not redefine macros. An <code>#error</code> will occur if a symbol already exists.</p>
<h4><a class="anchor" id="autotoc_md17"></a>
Short macros</h4>
<p >To avoid name collisions, libFGL macros come in two flavors: the default "long" macros (ex: <code>FGL_DEBUG_CONSTEXPR_ASSERT</code> and <code>FGL_DEBUG_FIX_ME</code>) and opt-in "short" macros (ex: <code>constexpr_assert</code> and <code>FIX_ME</code>). Headers that define non-internal preprocessor macros will normally specify a <code>#define</code> switch for enabling short macros for the header in question by defining a symbol before header inclusion; <code>FGL_DEBUG_FIXME_SHORT_MACROS</code> for example. Defining the "global" <code>FGL_SHORT_MACROS</code> will enable / opt-in to all short macros. Using the non-global switches lets you be more selective about which short macros you opt-in to.</p>
<hr  />
 <h1><a class="anchor" id="autotoc_md19"></a>
Contributing</h1>
<hr  />
 <h2><a class="anchor" id="autotoc_md21"></a>
How to contribute</h2>
<p >Follow these easy steps:</p>
<p >1. Don't.</p>
<p >Just open an issue to report a bug, request a feature, or just to say hi if you're as lonely as us.</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md23"></a>
Writing tests</h2>
<p >Each component of the library, where applicable, will have a unit test in the <code>test/</code> directory with a folder name that matches the include structure with separators replaced with underscores. For example, <code><a class="el" href="fixme_8hpp.html">include/fgl/debug/fixme.hpp</a></code> corresponds with <code>test/fgl_debug_fixme</code>.</p>
<p >Tests should have minimal includes and namespace polution. Test programs return <code>EXIT_SUCCESS</code> to signal that the test(s) have passed. Tests should strive to use compile-time <code>static_assert</code> and <code>consteval</code> functions where ever possible. Where not possible, use <code>assert</code>. Where not possible, a test failure should cause the program to return code <code>EXIT_FAILURE</code>. Tests should not use standard input/out (i.e. <code>cout</code>, <code>cin</code>). Each test (i.e. assertion) should be granular and represent a minimal subset of component behavior in order to improve debugability. Don't accumulate failures where possible; prefer to fail hard and fast. Use descriptive variable and function names. The intent and conditions of a test should be self-evident in code or at the very least clearly documented by comments.</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md25"></a>
Test build system &amp; test dependencies</h2>
<p >Each test (<code>test/fgl_component/</code>) will contain a <code>Tupfile</code> which defines rules for compilation, linking, and running of the test. Optionally, a test can have a <code>Tuprules.tup</code> file which can be used to determine <em>test ordering</em> (prerequisites / dependencies) based on folder name.</p>
<p ><em><b>An important limitation of this is that the required test names must exist and be correct. If a required test doesn't exist, the requirement is silently ignored. That would be bad.</b></em> They're more like <em>guidelines</em> than actual rules.</p>
<p ><b>Walkthrough and example</b></p>
<p >**<code>Tupfile</code>** Tup files look confusing but are quite simple. They work based on <code>:</code> rules which define some recipe like <code>inputs |&gt; shell command |&gt; outputs</code>. The inputs and outputs of the <code>:</code> rules are used by tup to create a directed acyclic graph which describes the build order and file-based dependencies.</p>
<p >Tests are referred to by the name of the folder that contains the test's <code>Tupfile</code>, which is the "current working directory" for that test. (<code>d</code> in rules, from here on <code>[CWD]</code>)</p>
<div class="fragment"><div class="line">### Unmodified. If you modify this, remove this line and document your changes.</div>
<div class="line">include_rules</div>
<div class="line">: foreach src/*.cpp | $(TEST_PREREQUISITE) |&gt; !C |&gt; $(TEST_OBJ_DIR)/%d/%B.o {test_objs}</div>
<div class="line">: {test_objs} |&gt; !L |&gt; $(TEST_BIN_DIR)/%d/%d.exe {unit_test}</div>
<div class="line">: {unit_test} |&gt; !RUN_TEST |&gt; $(TEST_DIR)/&lt;%d&gt;</div>
<div class="line">: | $(TEST_DIR)/&lt;%d&gt; |&gt; !PASSTHROUGH |&gt; &lt;unit_test_results&gt;</div>
</div><!-- fragment --><p >Note: <code>$()</code> macros like <code>TEST_OBJ_DIR</code> are defined in a higher-level <code>Tuprules.tup</code>.</p>
<p >0. <code>include_rule</code> includes all <code>Tuprules.tup</code> files from the CWD and above.</p>
<p >1. The first <code>:</code> rule requires <code></code> which is optionally defined in the same-level <code>Tuprules.tup</code>. Assuming the requirements are met, it compiles each <code>.cpp</code> file to an <code>.o</code> file of the same name and output to <code>/[CWD]/</code> which is then grouped into a local tup "bin" specific to the test, named <code>{test_objs}</code>.</p>
<p >2. The second <code>:</code> rule links all of the object files referred to by <code>{test_objs}</code> to produce a <code>/[CWD]/[CWD].exe</code>, which is grouped into a local tup bin named <code>{unit_test}</code>.</p>
<p >3. The third <code>:</code> rule executes the unit test program. If the test passes (returns <code>EXIT_SUCCESS</code>) it's added to the tup group <code>/&lt;[CWD]&gt;</code>, so that other tests may refer to this one by it's directory.</p>
<p >4. The fourth <code>:</code> rule forwards the <code>/&lt;[CWD]&gt;</code> test result to a global <code>&lt;unit_test_results&gt;</code>group. This is the group which is required by the top-level project <code>Tupfile</code> (simply <code>: | &lt;unit_test_results&gt; |&gt; |&gt;</code>, a rule which requires all test results as input).</p>
<p >Some tests require specialized rules, like passing arguments to the test program. In such cases, like <code>fgl_io_binary_files</code>, the <code>### Unmodified</code> comment is removed and the changes are documented.</p>
<p >**<code>Tuprules.tup</code>** Using <code>test/fgl_utility_enumerate</code> as an example: </p><div class="fragment"><div class="line">TEST_PREREQUISITE= $(TEST_DIR)/&lt;fgl_utility_zip&gt; $(TEST_DIR)/&lt;fgl_types_traits&gt;</div>
</div><!-- fragment --><p> Here, <code>fgl_utility_enumerate</code> requires that the <code>fgl_utility_zip</code> and <code>fgl_types_traits</code> tests pass before <code>fgl_utility_enumerate</code>'s test is run. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
